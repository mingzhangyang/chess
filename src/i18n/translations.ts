import type { AppLanguage } from './language';

type TranslationTree = { [key: string]: string | TranslationTree };

function interpolate(template: string, params?: Record<string, string | number>): string {
  if (!params) {
    return template;
  }

  return template.replace(/\{(\w+)\}/g, (_, key: string) => {
    if (!(key in params)) {
      return `{${key}}`;
    }
    return String(params[key]);
  });
}

function getValueByPath(source: TranslationTree, path: string): string | null {
  const parts = path.split('.');
  let cursor: string | TranslationTree = source;

  for (const part of parts) {
    if (typeof cursor === 'string') {
      return null;
    }

    if (!(part in cursor)) {
      return null;
    }

    cursor = cursor[part] as string | TranslationTree;
  }

  return typeof cursor === 'string' ? cursor : null;
}

const en = {
  language: {
    label: 'Language',
  },
  common: {
    white: 'White',
    black: 'Black',
    spectator: 'Spectator',
    sound: 'Sound',
    theme: 'Theme',
    muteMoveSound: 'Mute move sound',
    unmuteMoveSound: 'Unmute move sound',
    toggleTheme: 'Toggle theme',
    toggleColorTheme: 'Toggle color theme',
    showControls: 'Show Controls',
    hideControls: 'Hide Controls',
  },
  difficulty: {
    easy: 'Easy',
    medium: 'Medium',
    hard: 'Hard',
    expert: 'Expert',
  },
  app: {
    baseTitle: 'Cloud Chess Room | Play Online Chess With Friends or AI',
    baseDescription:
      'Play free online chess in private rooms with real-time multiplayer or challenge the built-in AI on easy, medium, or hard.',
    roomTitle: 'Room {roomId} | Cloud Chess Room',
    roomDescription: 'Join room {roomId} on Cloud Chess Room for a live online chess match.',
    aiTitle: '{difficulty} AI Match | Cloud Chess Room',
    aiDescription: 'Train against the {difficulty} AI in Cloud Chess Room.',
    offline: 'Offline',
    installBanner: 'Install for quick launch and offline vs Computer.',
    later: 'Later',
    install: 'Install',
    loadingMatchRoom: 'Loading match room...',
    loadingPracticeBoard: 'Loading practice board...',
  },
  lobby: {
    logoAlt: 'Cloud Chess Room logo',
    liveMatchmaking: 'Live Matchmaking',
    title: 'Cloud Chess Room',
    subtitle: 'Create a private match instantly, play with live chat and video, or train against the engine.',
    playOnline: 'Play Online',
    vsComputer: 'vs Computer',
    yourName: 'Your Name',
    enterYourName: 'Enter your name',
    roomIdOptional: 'Room ID (Optional)',
    leaveBlankToCreate: 'Leave blank to create new',
    joinRoom: 'Join Room',
    createRoom: 'Create Room',
    difficulty: 'Difficulty',
    startGame: 'Start Game',
    privacyPolicy: 'Privacy Policy',
  },
  game: {
    showingOpponent: 'Showing {opponentName}',
    showingYou: 'Showing You ({userName})',
    showMe: 'Show Me',
    showOpponent: 'Show Opponent',
    muteMicrophone: 'Mute microphone',
    unmuteMicrophone: 'Unmute microphone',
    turnCameraOff: 'Turn camera off',
    turnCameraOn: 'Turn camera on',
    switchMainVideo: 'Switch main video',
    waitingOpponent: 'Waiting for opponent...',
    youLabel: 'You ({userName})',
    teamChat: 'Team Chat',
    messagesCount: '{count} msgs',
    emptyChatState: 'Share your room code and start chatting while you play.',
    chatPlaceholder: 'Type a message...',
    openChat: 'Open chat',
    closeChat: 'Close chat',
    chat: {
      sendAria: 'Send message',
    },
    playingAs: 'Playing as {color}',
    playingAsLabel: 'Playing as',
    reset: 'Reset',
    mediaUnavailable: 'Camera/mic unavailable. Board and chat stay active.',
    reconnected: 'Reconnected. Syncing room state...',
    reconnecting: 'Connection lost. Reconnecting (attempt {attempt}) in {seconds}s...',
    transportFallback: 'Connection path failed. Retrying ({index}/{total})...',
    unavailable: 'Realtime service unavailable. Check your network and retry.',
    disconnected: 'Disconnected. Reconnecting...',
    serverError: 'Server error: {code}',
    checkmate: 'Checkmate! {winner} wins!',
    stalemate: 'Stalemate! Game is a draw.',
    draw: 'Draw!',
    check: 'Check!',
    spectating: 'Spectating',
    yourTurn: 'Your turn',
    opponentTurn: "Opponent's turn",
    opponentFallback: 'Opponent',
    title: 'Match Room',
    subtitle: 'Realtime board, voice and chat',
    room: 'Room:',
    copyRoomId: 'Copy Room ID',
    leaveRoom: 'Leave Room',
    awaitingUndoApproval: 'Waiting for opponent to approve undo...',
    awaitingSwapApproval: 'Waiting for opponent to approve color swap...',
    undoRequestPrompt: '{requesterName} requested an undo. Approve?',
    swapRequestPrompt: '{requesterName} requested swapping colors. Approve?',
    undoRequestRejected: 'Undo request was declined.',
    swapRequestRejected: 'Swap request was declined.',
  },
  single: {
    title: 'Solo Practice',
    subtitle: 'Adaptive engine opponent',
    difficulty: 'Difficulty:',
    openingVariety: 'Opening Variety',
    antiShuffle: 'Anti-shuffle',
    openingVarietyAria: 'Opening variety',
    antiShuffleAria: 'Anti-shuffle strength',
    playingAs: 'Playing as {color}',
    playingAsLabel: 'Playing as',
    swapColors: 'Swap Colors',
    swap: 'Swap',
    undoMove: 'Undo Move',
    undo: 'Undo',
    resetGame: 'Reset Game',
    leaveGame: 'Leave Game',
    checkmate: 'Checkmate! {winner} wins!',
    stalemate: 'Stalemate! Game is a draw.',
    draw: 'Draw!',
    check: 'Check!',
    gameOver: 'Game Over!',
    yourTurn: 'Your turn',
    computerThinking: 'Computer is thinking...',
  },
  aiStyle: {
    label: 'AI Play Style',
    balanced: 'Balanced',
    aggressive: 'Aggressive',
    defensive: 'Defensive',
  },
} as const satisfies TranslationTree;

const zh = {
  language: {
    label: '语言',
  },
  common: {
    white: '白方',
    black: '黑方',
    spectator: '观战',
    sound: '声音',
    theme: '主题',
    muteMoveSound: '关闭走子音效',
    unmuteMoveSound: '开启走子音效',
    toggleTheme: '切换主题',
    toggleColorTheme: '切换颜色主题',
    showControls: '显示控制面板',
    hideControls: '隐藏控制面板',
  },
  difficulty: {
    easy: '简单',
    medium: '中等',
    hard: '困难',
    expert: '专家',
  },
  app: {
    baseTitle: 'Cloud Chess Room | 与好友或 AI 在线下棋',
    baseDescription: '在私密房间中免费在线下棋，支持实时多人对战，或挑战内置 AI（简单/中等/困难）。',
    roomTitle: '房间 {roomId} | Cloud Chess Room',
    roomDescription: '加入 Cloud Chess Room 的房间 {roomId}，开始实时在线对局。',
    aiTitle: '{difficulty} AI 对局 | Cloud Chess Room',
    aiDescription: '在 Cloud Chess Room 中与 {difficulty} AI 训练。',
    offline: '离线',
    installBanner: '安装应用可快速启动，并离线进行人机对战。',
    later: '稍后',
    install: '安装',
    loadingMatchRoom: '正在加载对战房间...',
    loadingPracticeBoard: '正在加载练习棋盘...',
  },
  lobby: {
    logoAlt: 'Cloud Chess Room 标志',
    liveMatchmaking: '实时匹配',
    title: 'Cloud Chess Room',
    subtitle: '即时创建私密对局，支持实时聊天和视频，或与引擎训练。',
    playOnline: '在线对战',
    vsComputer: '对战电脑',
    yourName: '你的昵称',
    enterYourName: '输入你的昵称',
    roomIdOptional: '房间 ID（可选）',
    leaveBlankToCreate: '留空将自动创建',
    joinRoom: '加入房间',
    createRoom: '创建房间',
    difficulty: '难度',
    startGame: '开始游戏',
    privacyPolicy: '隐私政策',
  },
  game: {
    showingOpponent: '当前显示：{opponentName}',
    showingYou: '当前显示：你（{userName}）',
    showMe: '显示我',
    showOpponent: '显示对手',
    muteMicrophone: '麦克风静音',
    unmuteMicrophone: '麦克风取消静音',
    turnCameraOff: '关闭摄像头',
    turnCameraOn: '开启摄像头',
    switchMainVideo: '切换主视频',
    waitingOpponent: '等待对手加入...',
    youLabel: '你（{userName}）',
    teamChat: '房间聊天',
    messagesCount: '{count} 条',
    emptyChatState: '分享房间码，边下棋边聊天。',
    chatPlaceholder: '输入消息...',
    openChat: '打开聊天',
    closeChat: '关闭聊天',
    chat: {
      sendAria: '发送消息',
    },
    playingAs: '当前执子：{color}',
    playingAsLabel: '当前执子：',
    reset: '重置',
    mediaUnavailable: '摄像头/麦克风不可用，棋盘和聊天仍可使用。',
    reconnected: '已重连，正在同步房间状态...',
    reconnecting: '连接中断，{seconds} 秒后重连（第 {attempt} 次）...',
    transportFallback: '连接路径失败，正在重试（{index}/{total}）...',
    unavailable: '实时服务不可用，请检查网络后重试。',
    disconnected: '连接已断开，正在重连...',
    serverError: '服务器错误：{code}',
    checkmate: '将死！{winner}获胜！',
    stalemate: '逼和！本局和棋。',
    draw: '和棋！',
    check: '将军！',
    spectating: '观战中',
    yourTurn: '轮到你走',
    opponentTurn: '轮到对手走',
    opponentFallback: '对手',
    title: '对战房间',
    subtitle: '实时棋盘、语音和聊天',
    room: '房间：',
    copyRoomId: '复制房间 ID',
    leaveRoom: '离开房间',
    awaitingUndoApproval: '正在等待对手同意悔棋...',
    awaitingSwapApproval: '正在等待对手同意交换执子...',
    undoRequestPrompt: '{requesterName} 请求悔棋，是否同意？',
    swapRequestPrompt: '{requesterName} 请求交换执子，是否同意？',
    undoRequestRejected: '悔棋请求已被拒绝。',
    swapRequestRejected: '交换执子请求已被拒绝。',
  },
  single: {
    title: '单人练习',
    subtitle: '自适应引擎对手',
    difficulty: '难度：',
    openingVariety: '开局多样性',
    antiShuffle: '防摆子',
    openingVarietyAria: '开局多样性',
    antiShuffleAria: '防摆子强度',
    playingAs: '当前执子：{color}',
    playingAsLabel: '当前执子：',
    swapColors: '交换颜色',
    swap: '交换',
    undoMove: '悔棋',
    undo: '悔棋',
    resetGame: '重开棋局',
    leaveGame: '离开对局',
    checkmate: '将死！{winner}获胜！',
    stalemate: '逼和！本局和棋。',
    draw: '和棋！',
    check: '将军！',
    gameOver: '对局结束！',
    yourTurn: '轮到你走',
    computerThinking: '电脑正在思考...',
  },
  aiStyle: {
    label: 'AI 走棋风格',
    balanced: '均衡型',
    aggressive: '进攻型',
    defensive: '防守型',
  },
} as const satisfies TranslationTree;

const fr = {
  language: {
    label: 'Langue',
  },
  common: {
    white: 'Blancs',
    black: 'Noirs',
    spectator: 'Spectateur',
    sound: 'Son',
    theme: 'Thème',
    muteMoveSound: 'Couper le son des coups',
    unmuteMoveSound: 'Activer le son des coups',
    toggleTheme: 'Changer le thème',
    toggleColorTheme: 'Basculer le thème de couleur',
    showControls: 'Afficher les contrôles',
    hideControls: 'Masquer les contrôles',
  },
  difficulty: {
    easy: 'Facile',
    medium: 'Moyen',
    hard: 'Difficile',
    expert: 'Expert',
  },
  app: {
    baseTitle: 'Cloud Chess Room | Jouez aux échecs en ligne avec des amis ou l’IA',
    baseDescription:
      'Jouez gratuitement aux échecs en ligne dans des salons privés en temps réel, ou affrontez l’IA intégrée en facile, moyen ou difficile.',
    roomTitle: 'Salon {roomId} | Cloud Chess Room',
    roomDescription: 'Rejoignez le salon {roomId} sur Cloud Chess Room pour une partie en direct.',
    aiTitle: 'Match IA {difficulty} | Cloud Chess Room',
    aiDescription: 'Entraînez-vous contre l’IA {difficulty} dans Cloud Chess Room.',
    offline: 'Hors ligne',
    installBanner: 'Installez l’app pour un lancement rapide et le mode hors ligne contre l’ordinateur.',
    later: 'Plus tard',
    install: 'Installer',
    loadingMatchRoom: 'Chargement du salon...',
    loadingPracticeBoard: 'Chargement de l’échiquier d’entraînement...',
  },
  lobby: {
    logoAlt: 'Logo Cloud Chess Room',
    liveMatchmaking: 'Matchmaking en direct',
    title: 'Cloud Chess Room',
    subtitle: 'Créez un match privé instantanément, jouez avec chat et vidéo en direct, ou entraînez-vous contre le moteur.',
    playOnline: 'Jouer en ligne',
    vsComputer: 'vs Ordinateur',
    yourName: 'Votre nom',
    enterYourName: 'Entrez votre nom',
    roomIdOptional: 'ID du salon (optionnel)',
    leaveBlankToCreate: 'Laissez vide pour en créer un',
    joinRoom: 'Rejoindre le salon',
    createRoom: 'Créer un salon',
    difficulty: 'Difficulté',
    startGame: 'Démarrer la partie',
    privacyPolicy: 'Politique de confidentialité',
  },
  game: {
    showingOpponent: 'Affichage : {opponentName}',
    showingYou: 'Affichage : Vous ({userName})',
    showMe: 'Me montrer',
    showOpponent: 'Afficher l’adversaire',
    muteMicrophone: 'Couper le micro',
    unmuteMicrophone: 'Activer le micro',
    turnCameraOff: 'Couper la caméra',
    turnCameraOn: 'Activer la caméra',
    switchMainVideo: 'Changer la vidéo principale',
    waitingOpponent: 'En attente de l’adversaire...',
    youLabel: 'Vous ({userName})',
    teamChat: 'Chat d’équipe',
    messagesCount: '{count} msg',
    emptyChatState: 'Partagez votre code de salon et discutez pendant la partie.',
    chatPlaceholder: 'Tapez un message...',
    openChat: 'Ouvrir le chat',
    closeChat: 'Fermer le chat',
    chat: {
      sendAria: 'Envoyer le message',
    },
    playingAs: 'Vous jouez : {color}',
    playingAsLabel: 'Vous jouez :',
    reset: 'Réinitialiser',
    mediaUnavailable: 'Caméra/micro indisponibles. Le plateau et le chat restent actifs.',
    reconnected: 'Reconnecté. Synchronisation du salon...',
    reconnecting: 'Connexion perdue. Reconnexion (tentative {attempt}) dans {seconds}s...',
    transportFallback: 'Chemin de connexion échoué. Nouvelle tentative ({index}/{total})...',
    unavailable: 'Service temps réel indisponible. Vérifiez votre réseau et réessayez.',
    disconnected: 'Déconnecté. Reconnexion...',
    serverError: 'Erreur serveur : {code}',
    checkmate: 'Échec et mat ! {winner} gagnent !',
    stalemate: 'Pat ! Partie nulle.',
    draw: 'Nulle !',
    check: 'Échec !',
    spectating: 'Observation',
    yourTurn: 'À vous de jouer',
    opponentTurn: 'Au tour de l’adversaire',
    opponentFallback: 'Adversaire',
    title: 'Salon de match',
    subtitle: 'Plateau, voix et chat en temps réel',
    room: 'Salon :',
    copyRoomId: 'Copier l’ID du salon',
    leaveRoom: 'Quitter le salon',
  },
  single: {
    title: 'Entraînement solo',
    subtitle: 'Adversaire moteur adaptatif',
    difficulty: 'Difficulté :',
    openingVariety: 'Variété d’ouverture',
    antiShuffle: 'Anti-navette',
    openingVarietyAria: 'Variété d’ouverture',
    antiShuffleAria: 'Force anti-navette',
    playingAs: 'Vous jouez : {color}',
    playingAsLabel: 'Vous jouez :',
    swapColors: 'Inverser les couleurs',
    swap: 'Inverser',
    undoMove: 'Annuler le coup',
    undo: 'Annuler',
    resetGame: 'Réinitialiser la partie',
    leaveGame: 'Quitter la partie',
    checkmate: 'Échec et mat ! {winner} gagnent !',
    stalemate: 'Pat ! Partie nulle.',
    draw: 'Nulle !',
    check: 'Échec !',
    gameOver: 'Partie terminée !',
    yourTurn: 'À vous de jouer',
    computerThinking: 'L’ordinateur réfléchit...',
  },
  aiStyle: {
    label: 'Style de jeu IA',
    balanced: 'Équilibré',
    aggressive: 'Agressif',
    defensive: 'Défensif',
  },
} as const satisfies TranslationTree;

const es = {
  language: {
    label: 'Idioma',
  },
  common: {
    white: 'Blancas',
    black: 'Negras',
    spectator: 'Espectador',
    sound: 'Sonido',
    theme: 'Tema',
    muteMoveSound: 'Silenciar sonido de movimiento',
    unmuteMoveSound: 'Activar sonido de movimiento',
    toggleTheme: 'Cambiar tema',
    toggleColorTheme: 'Cambiar tema de color',
    showControls: 'Mostrar controles',
    hideControls: 'Ocultar controles',
  },
  difficulty: {
    easy: 'Fácil',
    medium: 'Medio',
    hard: 'Difícil',
    expert: 'Experto',
  },
  app: {
    baseTitle: 'Cloud Chess Room | Juega ajedrez en línea con amigos o IA',
    baseDescription:
      'Juega ajedrez gratis en salas privadas en tiempo real, o desafía a la IA integrada en fácil, medio o difícil.',
    roomTitle: 'Sala {roomId} | Cloud Chess Room',
    roomDescription: 'Únete a la sala {roomId} en Cloud Chess Room para una partida en vivo.',
    aiTitle: 'Partida IA {difficulty} | Cloud Chess Room',
    aiDescription: 'Entrena contra la IA {difficulty} en Cloud Chess Room.',
    offline: 'Sin conexión',
    installBanner: 'Instala la app para iniciar rápido y jugar sin conexión contra la computadora.',
    later: 'Más tarde',
    install: 'Instalar',
    loadingMatchRoom: 'Cargando sala de partida...',
    loadingPracticeBoard: 'Cargando tablero de práctica...',
  },
  lobby: {
    logoAlt: 'Logo de Cloud Chess Room',
    liveMatchmaking: 'Emparejamiento en vivo',
    title: 'Cloud Chess Room',
    subtitle: 'Crea una partida privada al instante, juega con chat y video en vivo, o entrena contra el motor.',
    playOnline: 'Jugar en línea',
    vsComputer: 'vs Computadora',
    yourName: 'Tu nombre',
    enterYourName: 'Ingresa tu nombre',
    roomIdOptional: 'ID de sala (opcional)',
    leaveBlankToCreate: 'Déjalo vacío para crear una nueva',
    joinRoom: 'Unirse a sala',
    createRoom: 'Crear sala',
    difficulty: 'Dificultad',
    startGame: 'Iniciar partida',
    privacyPolicy: 'Politica de privacidad',
  },
  game: {
    showingOpponent: 'Mostrando {opponentName}',
    showingYou: 'Mostrándote ({userName})',
    showMe: 'Mostrarme',
    showOpponent: 'Mostrar rival',
    muteMicrophone: 'Silenciar micrófono',
    unmuteMicrophone: 'Activar micrófono',
    turnCameraOff: 'Apagar cámara',
    turnCameraOn: 'Encender cámara',
    switchMainVideo: 'Cambiar video principal',
    waitingOpponent: 'Esperando al rival...',
    youLabel: 'Tú ({userName})',
    teamChat: 'Chat del equipo',
    messagesCount: '{count} msgs',
    emptyChatState: 'Comparte el código de la sala y chatea mientras juegas.',
    chatPlaceholder: 'Escribe un mensaje...',
    openChat: 'Abrir chat',
    closeChat: 'Cerrar chat',
    chat: {
      sendAria: 'Enviar mensaje',
    },
    playingAs: 'Jugando como {color}',
    playingAsLabel: 'Jugando como',
    reset: 'Reiniciar',
    mediaUnavailable: 'Cámara/micrófono no disponibles. El tablero y el chat siguen activos.',
    reconnected: 'Reconectado. Sincronizando estado de la sala...',
    reconnecting: 'Conexión perdida. Reconectando (intento {attempt}) en {seconds}s...',
    transportFallback: 'Falló la ruta de conexión. Reintentando ({index}/{total})...',
    unavailable: 'Servicio en tiempo real no disponible. Revisa tu red y reintenta.',
    disconnected: 'Desconectado. Reconectando...',
    serverError: 'Error del servidor: {code}',
    checkmate: '¡Jaque mate! ¡{winner} ganan!',
    stalemate: '¡Ahogado! La partida es tablas.',
    draw: '¡Tablas!',
    check: '¡Jaque!',
    spectating: 'Observando',
    yourTurn: 'Tu turno',
    opponentTurn: 'Turno del rival',
    opponentFallback: 'Rival',
    title: 'Sala de partida',
    subtitle: 'Tablero, voz y chat en tiempo real',
    room: 'Sala:',
    copyRoomId: 'Copiar ID de sala',
    leaveRoom: 'Salir de la sala',
  },
  single: {
    title: 'Práctica en solitario',
    subtitle: 'Rival de motor adaptativo',
    difficulty: 'Dificultad:',
    openingVariety: 'Variedad de aperturas',
    antiShuffle: 'Anti-barajeo',
    openingVarietyAria: 'Variedad de aperturas',
    antiShuffleAria: 'Fuerza anti-barajeo',
    playingAs: 'Jugando como {color}',
    playingAsLabel: 'Jugando como',
    swapColors: 'Cambiar colores',
    swap: 'Cambiar',
    undoMove: 'Deshacer jugada',
    undo: 'Deshacer',
    resetGame: 'Reiniciar partida',
    leaveGame: 'Salir de la partida',
    checkmate: '¡Jaque mate! ¡{winner} ganan!',
    stalemate: '¡Ahogado! La partida es tablas.',
    draw: '¡Tablas!',
    check: '¡Jaque!',
    gameOver: '¡Fin de la partida!',
    yourTurn: 'Tu turno',
    computerThinking: 'La computadora está pensando...',
  },
  aiStyle: {
    label: 'Estilo de juego IA',
    balanced: 'Equilibrado',
    aggressive: 'Agresivo',
    defensive: 'Defensivo',
  },
} as const satisfies TranslationTree;

const ja = {
  language: {
    label: '言語',
  },
  common: {
    white: '白',
    black: '黒',
    spectator: '観戦',
    sound: 'サウンド',
    theme: 'テーマ',
    muteMoveSound: '駒音をミュート',
    unmuteMoveSound: '駒音を有効化',
    toggleTheme: 'テーマを切り替え',
    toggleColorTheme: 'カラーテーマを切り替え',
    showControls: 'コントロールを表示',
    hideControls: 'コントロールを非表示',
  },
  difficulty: {
    easy: '易しい',
    medium: '普通',
    hard: '難しい',
    expert: 'エキスパート',
  },
  app: {
    baseTitle: 'Cloud Chess Room | 友達やAIとオンライン対局',
    baseDescription:
      'プライベートルームで無料のオンラインチェス。リアルタイム対戦や、内蔵AI（易しい/普通/難しい）との練習に対応。',
    roomTitle: 'ルーム {roomId} | Cloud Chess Room',
    roomDescription: 'Cloud Chess Room のルーム {roomId} に参加してライブ対局を開始。',
    aiTitle: '{difficulty} AI 対局 | Cloud Chess Room',
    aiDescription: 'Cloud Chess Room で {difficulty} AI と練習。',
    offline: 'オフライン',
    installBanner: 'インストールすると起動が速くなり、オフラインでコンピュータ対戦できます。',
    later: '後で',
    install: 'インストール',
    loadingMatchRoom: '対局ルームを読み込み中...',
    loadingPracticeBoard: '練習ボードを読み込み中...',
  },
  lobby: {
    logoAlt: 'Cloud Chess Room ロゴ',
    liveMatchmaking: 'ライブマッチメイキング',
    title: 'Cloud Chess Room',
    subtitle: 'すぐにプライベート対局を作成。ライブチャットとビデオ、またはエンジン練習に対応。',
    playOnline: 'オンライン対戦',
    vsComputer: 'コンピュータ対戦',
    yourName: 'あなたの名前',
    enterYourName: '名前を入力',
    roomIdOptional: 'ルームID（任意）',
    leaveBlankToCreate: '空欄で新規作成',
    joinRoom: 'ルームに参加',
    createRoom: 'ルームを作成',
    difficulty: '難易度',
    startGame: 'ゲーム開始',
    privacyPolicy: 'プライバシーポリシー',
  },
  game: {
    showingOpponent: '{opponentName} を表示中',
    showingYou: 'あなた（{userName}）を表示中',
    showMe: '自分を表示',
    showOpponent: '相手を表示',
    muteMicrophone: 'マイクをミュート',
    unmuteMicrophone: 'マイクをミュート解除',
    turnCameraOff: 'カメラをオフ',
    turnCameraOn: 'カメラをオン',
    switchMainVideo: 'メイン映像を切り替え',
    waitingOpponent: '対戦相手を待っています...',
    youLabel: 'あなた（{userName}）',
    teamChat: 'チームチャット',
    messagesCount: '{count} 件',
    emptyChatState: 'ルームコードを共有して、対局中にチャットしましょう。',
    chatPlaceholder: 'メッセージを入力...',
    openChat: 'チャットを開く',
    closeChat: 'チャットを閉じる',
    chat: {
      sendAria: 'メッセージを送信',
    },
    playingAs: '{color}でプレイ中',
    playingAsLabel: 'プレイ中:',
    reset: 'リセット',
    mediaUnavailable: 'カメラ/マイクが利用できません。ボードとチャットは使用できます。',
    reconnected: '再接続しました。ルーム状態を同期中...',
    reconnecting: '接続が切れました。{seconds}秒後に再接続（試行 {attempt}）...',
    transportFallback: '接続経路に失敗。再試行中（{index}/{total}）...',
    unavailable: 'リアルタイムサービスが利用できません。ネットワークを確認して再試行してください。',
    disconnected: '切断されました。再接続中...',
    serverError: 'サーバーエラー: {code}',
    checkmate: 'チェックメイト！{winner} の勝ち！',
    stalemate: 'ステイルメイト！引き分けです。',
    draw: '引き分け！',
    check: 'チェック！',
    spectating: '観戦中',
    yourTurn: 'あなたの手番',
    opponentTurn: '相手の手番',
    opponentFallback: '相手',
    title: '対局ルーム',
    subtitle: 'リアルタイム盤面・音声・チャット',
    room: 'ルーム:',
    copyRoomId: 'ルームIDをコピー',
    leaveRoom: 'ルームを退出',
  },
  single: {
    title: 'ソロ練習',
    subtitle: '適応型エンジン対戦',
    difficulty: '難易度:',
    openingVariety: 'オープニングの多様性',
    antiShuffle: 'アンチシャッフル',
    openingVarietyAria: 'オープニングの多様性',
    antiShuffleAria: 'アンチシャッフル強度',
    playingAs: '{color}でプレイ中',
    playingAsLabel: 'プレイ中:',
    swapColors: '色を入れ替え',
    swap: '入れ替え',
    undoMove: '一手戻す',
    undo: '戻す',
    resetGame: '対局をリセット',
    leaveGame: '対局を終了',
    checkmate: 'チェックメイト！{winner} の勝ち！',
    stalemate: 'ステイルメイト！引き分けです。',
    draw: '引き分け！',
    check: 'チェック！',
    gameOver: 'ゲーム終了！',
    yourTurn: 'あなたの手番',
    computerThinking: 'コンピュータが思考中...',
  },
  aiStyle: {
    label: 'AI プレイスタイル',
    balanced: 'バランス型',
    aggressive: '攻撃型',
    defensive: '守備型',
  },
} as const satisfies TranslationTree;

export const TRANSLATIONS: Record<AppLanguage, TranslationTree> = {
  en,
  zh,
  fr,
  es,
  ja,
};

export function translate(
  language: AppLanguage,
  key: string,
  params?: Record<string, string | number>,
): string {
  const localized = getValueByPath(TRANSLATIONS[language], key) ?? getValueByPath(TRANSLATIONS.en, key);
  if (!localized) {
    return key;
  }
  return interpolate(localized, params);
}
